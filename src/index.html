<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, target-densitydpi=device-dpi"/>

    <!-- for quicker testing in mobile safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!--
		* gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    	* https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    	* todo: unsafe inline can be removed from scripts in production. browsersync needs it in development.
	-->
    <!-- release -->
    <meta http-equiv="Content-Security-Policy" content="default-src
                                                            'self'
                                                            data:
                                                            gap:
                                                            https://piwik.peerio.com
                                                            https://ssl.gstatic.com
                                                            https://app.peerio.com
                                                            https://peerio.blob.core.windows.net
                                                            https://blob.peerio.com
                                                            https://blobmonster.peerio.com
                                                            wss://app.peerio.com
                                                            'sha256-tW9RuZazynVUxcwbgy/uhJIHT4/qjEgNt8p0gkVWPSs='
                                                            ;
                                                        style-src
                                                            'self'
                                                            'unsafe-inline'
                                                            ;

                                                        media-src 'self'
                                                            ;">
    <!-- /release -->
    <!-- debug -->
    <meta http-equiv="Content-Security-Policy" content="default-src
                                                            'self'
                                                            data:
                                                            gap:

                                                            'sha256-a9DUmmxByhGlgkVpRIMsp5tpECxM9+fqDVL+IcHIdjs='
                                                            'sha256-8U0IjmKhdF6muyTAHYlt46GTDHbWDTClf0ZpO3SBmxs='

                                                            https://piwik.peerio.com
                                                            https://ssl.gstatic.com
                                                            https://app.peerio.com
                                                            https://hocuspocus.peerio.com
                                                            https://peerio.blob.core.windows.net
                                                            https://blob.peerio.com
                                                            https://blobmonster.peerio.com
                                                            https://peeriodev.blob.core.windows.net
                                                            wss://app.peerio.com
                                                            wss://hocuspocus.peerio.com
                                                            ws://localhost:3000
                                                            ws://localhost:3001

                                                            'sha256-tW9RuZazynVUxcwbgy/uhJIHT4/qjEgNt8p0gkVWPSs='
                                                            ;
                                                        style-src
                                                            'self'
                                                            'unsafe-inline'
                                                            ;
                                                        media-src
                                                                'self'
                                                            ;">
    <!-- /debug -->
    <title>Peerio</title>
    <link rel="icon" type="image/png" href="media/img/icon32.png"/>
    <!-- CSS -->
    <link rel="stylesheet" href="bower/normalize.css/normalize.css" type="text/css"/>
    <link rel="stylesheet" href="bower/font-awesome/css/font-awesome.css" type="text/css"/>
    <link rel="stylesheet" href="css/app.css" type="text/css"/>

    <!-- debug -->
    <!-- debug.js may contain sensitive info that is used to help with development.
         The file is ignored in git and located in repository root,
         so it can't be accidentally exposed by cordova tools.
         If you are cloning a new repository, you can create your own debug.js from debug_template.js. -->
    <script type="application/javascript" src="../debug.js"></script>
    <!-- /debug -->
    <script type="application/javascript" src="js/js/urlfix.js"></script>
    <!-- tracing does not actually start before we enable it -->
    <script type="application/javascript" src="js/js/piwik.js"></script>

    <!-- JS libraries -->
    <script type="application/javascript" src="cordova.js"></script>
    <!-- debug -->
    <script type="application/javascript" src="bower/react/react-with-addons.js"></script>
    <!-- /debug -->
    <!-- release -->
    <script type="application/javascript" src="bower/react/react-with-addons.min.js"></script>
    <!-- /release -->
    <script type="application/javascript" src="bower/react-router/ReactRouter.js"></script>
    <script type="application/javascript" src="bower/gsap/tweenlite.min.js"></script>
    <script type="application/javascript" src="bower/gsap/scrolltoplugin.min.js"></script>
    <script type="application/javascript" src="bower/classnames/index.js"></script>

    <!-- Peerio Client API -->
    <script type="application/javascript" src="bower/peerio-client-api/ext_lib_bundle.js"></script>
    <script type="application/javascript" src="bower/peerio-client-api/peerio_client_api_bundle.js"></script>
    <script>
        L.captureConsole();
        L.captureRootErrors();
    </script>
    <!-- debug -->
    <script>
        L.level = 3;
    </script>
    <!-- /debug -->

    <script type="application/javascript" src="js/js/devmode.js"></script>

    <!-- UI -->
    <!-- inject:js -->
    <!-- endinject -->
</head>
<body>

<div id="approot">
    <!-- Don't put anything in here - it will be replaced by React -->
</div>

<!---------------- <DEVMODE CONTROL START> ---------------->
<!-- This is as independent/vanilla as possible developer mode controls-->
<div id="devmode" class="devmode-hidden">
    <div id="devmode-title">woah.. secret ninja mode
        <div id="devmode-close">X</div>
    </div>
    <div id="devmode-content">
        <div class="devlog-full-width devlog-controls">
            <select id="devmode-log-level" tabindex="-1">
                <option value="0">Errors</option>
                <option value="1">Info</option>
                <option value="2">Verbose</option>
                <option value="3">Silly</option>
            </select>
            <span class="devlog-divider"></span>
            <input type="checkbox" id="devmode-bench" tabindex="-1"/>
            <label for="devmode-bench"> &ndash; Benchmarks</label>

            <label class="devlog-full-width devlog-label">log limit</label>
            <input tabindex="-1" id="devmode-log-limit" type="text" size="7"
                   value="123" class="devlog-full-width"/>
        </div>
        <button id="devmode-send" tabindex="-1" class="devlog-full-width">Send log by email</button>
        <div id="devmode-log"></div>
    </div>
</div>
<!---------------- </DEVMODE CONTROL END> ---------------->
</body>
</html>
